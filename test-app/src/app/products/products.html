<div *ngIf="loading" data-cy="loading" data-testid="loading">
  Loading products...
</div>

<div *ngIf="!loading" data-cy="products-page" data-testid="products-page">

  <h2 data-testid="products-title" data-cy="products-title">
    Products
  </h2>

  <label for="filter">Filter:</label>

  <select
    id="filter"
    (change)="setFilter($event)"
    data-cy="filter-select"
    data-testid="filter-select"
  >
    <option value="all">All</option>
    <option value="food">Food</option>
    <option value="drink">Drink</option>
  </select>

  <ul data-testid="product-list" data-cy="product-list">
    <li
      *ngFor="let p of filteredProducts()"
      data-cy="product-item"
      data-testid="product-item"
    >
      {{ p.name }} ({{ p.category }})
    </li>
  </ul>

</div>
